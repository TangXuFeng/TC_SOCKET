/* 文件名: start.S */
.section .text.startup
.global _start

_start:
    /* ========================================== */
    /* 核心步骤：初始化栈指针 (Stack Pointer)      */
    /* 你的内存起始：0x80000000                    */
    /* 你的内存大小：1MB (0x100000)                */
    /* 栈顶地址 = 起始 + 大小 = 0x80100000         */
    /* RISC-V 栈是向下生长的，所以设在顶端最安全     */
    /* ========================================== */
    li sp, 0x80100000

    /* 跳转到 C 语言的 main 函数 */
    call main

    /* ========================================== */
    /* 兜底逻辑：防止 main 函数返回后 CPU 乱跑       */
    /* ========================================== */
loop:
    j loop
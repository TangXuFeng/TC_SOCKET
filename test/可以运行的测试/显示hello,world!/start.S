    .global _start
_start:

    # a0 = 0x90000 作为写入起始地址
    lui   a0, 0x90000000 >> 12
    addi  a0, a0, 0

    # 写入每个字节
    li    t0, 0x68      # 'h'
    sb    t0, 0(a0)

    li    t0, 0x65      # 'e'
    sb    t0, 1(a0)

    li    t0, 0x6C      # 'l'
    sb    t0, 2(a0)

    li    t0, 0x6C      # 'l'
    sb    t0, 3(a0)

    li    t0, 0x6F      # 'o'
    sb    t0, 4(a0)

    li    t0, 0x2C      # ','
    sb    t0, 5(a0)

    li    t0, 0x77      # 'w'
    sb    t0, 6(a0)

    li    t0, 0x6F      # 'o'
    sb    t0, 7(a0)

    li    t0, 0x72      # 'r'
    sb    t0, 8(a0)

    li    t0, 0x6C      # 'l'
    sb    t0, 9(a0)

    li    t0, 0x64      # 'd'
    sb    t0, 10(a0)

    li    t0, 0x21      # '!'
    sb    t0, 11(a0)

    # 写入结束符 0x00
    li    t0, 0x00
    sb    t0, 12(a0)


    ###############################################
    # a0 = 源地址 0x90000
    ###############################################
    lui   a0, 0x90000000 >> 12
    addi  a0, a0, 0

    ###############################################
    # 1) 逐字节读取 → 写到 0x90000020
    ###############################################
    lui   a1, 0x90000000 >> 12
    addi  a1, a1, 20

    li    t1, 13          # 字符串长度（含 0 结尾）

byte_loop:
    lbu   t0, 0(a0)        # 读 1 字节
    sb    t0, 0(a1)        # 写 1 字节
    addi  a0, a0, 1
    addi  a1, a1, 1
    addi  t1, t1, -1
    bnez  t1, byte_loop


    ###############################################
    # 2) 再次从 0x90000 读取 → 写到 0x90000040（2 字节）
    ###############################################
    lui   a0, 0x90000000 >> 12
    addi  a0, a0, 0

    lui   a1, 0x90000000 >> 12
    addi  a1, a1, 40

    li    t1, 12          # 12 字节可按 2 字节写 6 次

half_loop:
    lh    t0, 0(a0)        # 读 2 字节（小端）
    sh    t0, 0(a1)        # 写 2 字节
    addi  a0, a0, 2
    addi  a1, a1, 2
    addi  t1, t1, -2
    bnez  t1, half_loop


    ###############################################
    # 3) 再次从 0x90000 读取 → 写到 0x90000060（4 字节）
    ###############################################
    lui   a0, 0x90000000 >> 12
    addi  a0, a0, 0

    lui   a1, 0x90000000 >> 12
    addi  a1, a1, 60

    li    t1, 12          # 12 字节可按 4 字节写 3 次

word_loop:
    lw    t0, 0(a0)        # 读 4 字节
    sw    t0, 0(a1)        # 写 4 字节
    addi  a0, a0, 4
    addi  a1, a1, 4
    addi  t1, t1, -4
    bnez  t1, word_loop


done:
    j done
